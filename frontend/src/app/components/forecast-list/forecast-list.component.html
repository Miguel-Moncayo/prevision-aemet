<div class="forecast-container" *ngIf="municipioId">
  <h2>ğŸ“… PrevisiÃ³n para {{ municipioId }}</h2>

  <!-- Cargando -->
  <div *ngIf="loading" class="loading">Cargando previsiÃ³n...</div>

  <!-- Error -->
  <div *ngIf="error && !loading" class="error" style="color:#a00; margin:.5rem 0;">
    {{ error }}
  </div>

  <!-- Datos -->
  <div *ngIf="forecast && !loading && !error">
    <p>
      <strong>ğŸŒ¡ï¸ Temperatura media:</strong>
      {{ forecast.mediaTemperatura | number: '1.0-1' }} {{ forecast.unidadTemperatura }}
    </p>

    <div *ngIf="forecast.probPrecipitacion?.length; else noRain">
      <h3>ğŸŒ§ï¸ Probabilidad de precipitaciÃ³n</h3>
      <ul>
        <li *ngFor="let p of forecast.probPrecipitacion">
          Periodo <strong>{{ p.periodo || 'â€”' }}</strong> â†’ {{ p.probabilidad }} %
        </li>
      </ul>
    </div>

    <ng-template #noRain>
      <p style="color:#666">Sin datos de precipitaciÃ³n disponibles.</p>
    </ng-template>
  </div>
</div>
